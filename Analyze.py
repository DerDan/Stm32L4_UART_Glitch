raw = '''[2278]:    0,    0
[2279]:    0,    0
[2280]:    0,    0
[2281]:    0,    0
[2282]:    0,    0
[2283]:    0,    0
[2284]:    0,    0
[2285]:    0,    0
[2286]:    0,    0
[2287]:    0,    0
[2288]:    0,    0
[2289]:    0,    0
[2290]->11
[2290]:    0,    0
[2291]:    0,    0
[2292]:    0,    0
[2293]:    0,    0
[2294]:    0,    0
[2295]:    0,    0
[2296]:    0,    0
[2297]:    0,    0
[2298]:    0,    0
[2299]:    0,    0
[2300]:    0,    0
[2301]:    0,    0
[2302]:    0,    0
[2303]:    0,    0
[2304]:    0,    0
[2305]:    0,    0
[2306]:    0,    0
[2307]:    0,    0
[2308]:    0,    0
[2309]:    0,    0
[2310]:    0,    0
[2311]:    0,    0
[2312]:    0,    0
[2313]:    0,    0
[2314]:    0,    0
[2315]:    0,    0
[2316]:    0,    0
[2317]:    0,    0
[2318]:    0,    0
[2319]:    0,    0
[2320]:    0,    0
[2321]:    0,    0
[2322]:    0,    0
[2323]:    0,    0
[2324]:    0,    0
[2325]:    0,    0
[2326]:    0,    0
[2327]:    0,    0
[2328]:    0,    0
[2329]:    0,    0
[2330]:    0,    0
[2331]:    0,    0
[2332]:    0,    0
[2333]:    0,    0
[2334]:    0,    0
[2335]:    0,    0
[2336]:    0,    0
[2337]:    0,    0
[2338]:    0,    0
[2339]:    0,    0
[2340]:    0,    0
[2341]:    0,    0
[2342]:    0,    0
[2343]:    0,    0
[2344]:    0,    0
[2345]:    0,    0
[2346]:    0,    0
[2347]:    0,    0
[2348]:    0,    0
[2349]:    0,    0
[2350]:    0,    0
[2351]:    0,    0
[2352]:    0,    0
[2353]:    0,    0
[2354]:    0,    0
[2355]:    0,    0
[2356]:    0,    0
[2357]:    0,    0
[2358]:    0,    0
[2359]:    0,    0
[2360]:    0,    0
[2361]:    0,    0
[2362]:    0,    0
[2363]:    0,    0
[2364]:    0,    0
[2365]:    0,    0
[2366]:    0,    0
[2367]:    0,    0
[2368]:    0,    0
[2369]:    0,    0
[2370]:    0,    0
[2371]:    0,    0
[2372]:    0,    0
[2373]:    0,    0
[2374]:    0,    0
[2375]:    0,    0
[2376]:    0,    0
[2377]:    0,    0
[2378]:    0,    0
[2379]:    0,    0
[2380]:    0,    0
[2381]:    0,    0
[2382]:    0,   11
[2383]:    0,   28
[2384]:    0,   16
[2385]:    0,   28
[2386]:    0,   18
[2387]:    0,   19
[2388]:    0,   14
[2389]:    0,   22
[2390]:    0,   23
[2391]:    0,   14
[2392]:    0,   21
[2393]:    0,   21
[2394]:    0,   28
[2395]:    0,   24
[2396]:    0,   25
[2397]:    0,   19
[2398]:    0,   27
[2399]:    0,   11
[2400]:    0,   15
[2401]:    0,   22
[2402]:    0,   19
[2403]:    0,   19
[2404]:    0,   23
[2405]:    0,   23
[2406]:    0,   20
[2407]:    0,   34
[2408]:    0,   28
[2409]:    0,   26
[2410]:    0,   24
[2411]:    0,   13
[2412]:    0,   11
[2413]:    0,   25
[2414]:    0,   28
[2415]:    0,   17
[2416]:    0,   13
[2417]:    0,   25
[2418]:    0,   27
[2419]:    0,   23
[2420]:    0,   29
[2421]:    9,   17
[2422]:   27,    0
[2423]:   25,    0
[2424]:   25,    0
[2425]:   19,    0
[2426]:   12,    0
[2427]:   21,    0
[2428]:   28,    0
[2429]:   21,    0
[2430]:   23,    0
[2431]:   27,    0
[2432]:   35,    0
[2433]:   24,    0
[2434]:   27,    0
[2435]:   25,    0
[2436]:   21,    0
[2437]:   14,    0
[2438]:   22,    0
[2439]:   21,    0
[2440]:   25,    0
[2441]:   25,    0
[2442]:   17,    0
[2443]:   21,    0
[2444]:   18,    0
[2445]:   29,    0
[2446]:   34,    0
[2447]:   22,    0
[2448]:   28,    0
[2449]:   19,    0
[2450]:   15,    0
[2451]:   21,    0
[2452]:   33,    0
[2453]:   16,    0
[2454]:   11,    0
[2455]:   19,    0
[2456]:   17,    0
[2457]:   15,    0
[2458]:   26,    0
[2459]:   22,    0
[2460]:   28,    0
[2461]:   25,    0
[2462]:   16,    0
[2463]:   18,    0
[2464]:   13,    0
[2465]:   17,    0
[2466]:   16,    0
[2467]:   28,    0
[2468]:   19,    0
[2469]:   23,    0
[2470]:   27,    0
[2471]:   18,    0
[2472]:   15,    0
[2473]:   22,    0
[2474]:   13,    0
[2475]:   27,    0
[2476]:   18,    0
[2477]:   17,    0
[2478]:   23,    0
[2479]:   25,    0
[2480]:   12,    0
[2481]:   20,    0
[2482]:   17,    0
[2483]:   20,    0
[2484]:   19,    0
[2485]:   20,    0
[2486]:   21,    0
[2487]:   21,    0
[2488]:   28,    0
[2489]:   22,    0
[2490]:   15,    0
[2491]:   16,    0
[2492]:   24,    0
[2493]:   17,    0
[2494]:   19,    0
[2495]:   22,    0
[2496]:   27,    0
[2497]:   28,    0
[2498]:   34,    0
[2499]->12
[2499]:   24,    0
[2500]:    0,    0
[2501]:    0,    0
[2502]:    0,    0
[2503]:    0,    0
[2504]:    0,    0
[2505]:    0,    0
[2506]:    0,    0
[2507]:    0,    0
[2508]:    0,    0
[2509]:    0,    0
[2510]:    0,    0
[2511]:    0,    0
[2512]:    0,    0
[2513]:    0,    0
[2514]:    0,    0
[2515]:    0,    0
[2516]:    0,    0
[2517]:    0,    0
[2518]:    0,    0
[2519]:    0,    0
[2520]:    0,    0
[2521]:    0,    0
[2522]:    0,    0
[2523]:    0,    0
[2524]:    0,    0
[2525]:    0,    0
[2526]:    0,    0
[2527]:    0,    0
[2528]:    0,    0
[2529]:    0,    0
[2530]:    0,    0
[2531]:    0,    0
[2532]:    0,    0
[2533]:    0,    0
[2534]:    0,    0
[2535]:    0,    0
[2536]:    0,    0
[2537]:    0,    0
[2538]:    0,    0
[2539]:    0,    0
[2540]:    0,    0
[2541]:    0,    0
[2542]:    0,    0
[2543]:    0,    0
[2544]:    0,    0
[2545]:    0,    0
[2546]:    0,    0
[2547]:    0,    0
[2548]:    0,    0
[2549]:    0,    0
[2550]:    0,    0
[2551]:    0,    0
[2552]:    0,    0
[2553]:    0,    0
[2554]:    0,    0
[2555]:    0,    0
[2556]:    0,    0
[2557]:    0,    0
[2558]:    0,    0
[2559]:    0,    0
[2560]:    0,    0
[2561]:    0,    0
[2562]:    0,    0
[2563]:    0,    0
[2564]:    0,    0
[2565]:    0,    0
[2566]:    0,    0
[2567]:    0,    0
[2568]:    0,    0
[2569]:    0,    0
[2570]:    0,    0
[2571]:    0,    0
[2572]:    0,    0
[2573]:    0,    0
[2574]:    0,    0
[2575]:    0,    0
[2576]:    0,    0
[2577]:    0,    0
[2578]:    0,    0
[2579]:    0,    0
[2580]:    0,    0
[2581]:    0,    0
[2582]:    0,    0
[2583]:    0,    0
[2584]:    0,    0
[2585]:    0,    0
[2586]:    0,    0
[2587]:    0,    0
[2588]:    0,    0
[2589]:    0,    0
[2590]:    0,    0
[2591]:    0,    0
[2592]:    0,    0
[2593]:    0,    0
[2594]:    0,    0
[2595]:    0,    0
[2596]:    0,    0
[2597]:    0,    0
[2598]:    0,    0
[2599]:    0,    0
[2600]:    0,    0
[2601]:    0,    0
[2602]:    0,    0
[2603]:    0,    0
[2604]:    0,    0
[2605]:    0,    0
[2606]:    0,    0
[2607]:    0,    0
[2608]:    0,    0
[2609]:    0,    0
[2610]:    0,    0
[2611]:    0,    0
[2612]:    0,    0
[2613]:    0,    0
[2614]:    0,    0
[2615]:    0,    0
[2616]:    0,    0
[2617]:    0,    0
[2618]:    0,    0
[2619]:    0,    0
[2620]:    0,    0
[2621]:    0,    0
[2622]:    0,    0
[2623]:    0,    0
[2624]:    0,    0
[2625]:    0,    0
[2626]:    0,    0
[2627]:    0,    0
[2628]:    0,    0
[2629]:    0,    0
[2630]:    0,    0
[2631]:    0,    0
[2632]:    0,    0
[2633]:    0,    0
[2634]:    0,    0
[2635]:    0,    0
[2636]:    0,    0
[2637]:    0,    0
[2638]:    0,    0
[2639]:    0,    0
[2640]:    0,    0
[2641]:    0,    0
[2642]:    0,    0
[2643]:    0,    0
[2644]:    0,    0
[2645]:    0,    0
[2646]:    0,    0
[2647]:    0,    0
[2648]:    0,    0
[2649]:    0,    0
[2650]:    0,    0
[2651]:    0,    0
[2652]:    0,    0
[2653]:    0,    0
[2654]:    0,    0
[2655]:    0,    0
[2656]:    0,    0
[2657]:    0,    0
[2658]:    0,    0
[2659]:    0,    0
[2660]:    0,    0
[2661]:    0,    0
[2662]:    0,    0
[2663]:    0,    0
[2664]:    0,    0
[2665]:    0,    0
[2666]:    0,    0
[2667]:    0,    0
[2668]:    0,    0
[2669]:    0,    0
[2670]:    0,    0
[2671]:    0,    0
[2672]:    0,    0
[2673]:    0,    0
[2674]:    0,    0
[2675]:    0,    0
[2676]:    0,    0
[2677]:    0,    0
[2678]:    0,    0
[2679]:    0,    0
[2680]:    0,    0
[2681]:    0,    0
[2682]:    0,    0
[2683]:    0,    0
[2684]:    0,    0
[2685]:    0,    0
[2686]:    0,    0
[2687]:    0,    0
[2688]:    0,    0
[2689]:    0,    0
[2690]:    0,    0
[2691]:    0,    0
[2692]:    0,    0
[2693]:    0,    0
[2694]:    0,    0
[2695]:    0,    0
[2696]:    0,    0
[2697]:    0,    0
[2698]:    0,    0
[2699]:    0,    0
[2700]:    0,    0
[2701]:    0,    0
[2702]:    0,    0
[2703]:    0,    0
[2704]:    0,    0
[2705]:    0,    0
[2706]:    0,    0
[2707]->13
[2707]:    0,    0
[2708]:    0,    0
[2709]:    0,    0
[2710]:    0,    0
[2711]:    0,    0
[2712]:    0,    0
[2713]:    0,    0
'''

import matplotlib.pyplot as plt
import numpy as np

lines = raw.split('\n')
start = 0
index = 0
data = []
missing = []
x_marker = []
x_data = []
for l in lines:
    if l.__contains__(":"):
        d = l.split(':')
        x = int(d[0].strip()[1:-1])
        va = d[1].split(',')
        v1 = int(va[0])
        v2 = int(va[1])
        if not start:
            if v1 > 0 or v2 > 0:
                start = index
        if start is not None:
            x_data.append(0.5 + x)
            data.append(v1)
            missing.append(v2)
            if v1 > 0 and v2 > 0:
                print(v1, v2)

        index += 1
    if l.__contains__("->"):
        d = l.split('->')
        x = int(d[0].strip()[1:-1])
        v = int(d[1])
        x_marker.append(x)

plt.figure(figsize=(20, 6), dpi=300)
plt.grid(color='silver', which='both')

bit_width = x_marker[1] - x_marker[0]

x_marker_text = [(x_marker[0] - bit_width) / 4, "c", (x_marker[1] - bit_width) / 4, "c", (x_marker[2] - bit_width) / 4]
x_marker = [x_marker[0], x_marker[0] + bit_width / 2, x_marker[1], x_marker[1] + bit_width / 2, x_marker[2]]



# fig, ax = plt.subplots()
# bottom = np.zeros(3)

# for sex, sex_count in sex_counts.items():
#     p = ax.bar(species, sex_count, width, label=sex, bottom=bottom)
#     bottom += sex_count
#
#     ax.bar_label(p, label_type='center')
#
# ax.set_title('Number of penguins by sex')
# ax.legend()
#
# plt.show()

plt.bar(x_data, data, width=1, edgecolor="white", linewidth=0.6, label='shift')
plt.bar(x_data, missing, width=1, edgecolor="white", linewidth=0.6, label="missing", bottom=data)
plt.xticks(x_marker, x_marker_text)
plt.savefig("result.png")
print(x_marker)
